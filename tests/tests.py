# FBl337
# Programming Code Golf Language
# Created: 21 February 2024
# Version: 21 February 2024 12:00PM
# Copyright: James Leibert 2024
# Licence: Available for use under the GPL3 Licence https://www.gnu.org/licenses/gpl-3.0.txt

# tests.py
# Test programs


import sys

from fb1337 import test, interactive_from_test_suite

sys.setrecursionlimit(10000)

tests = [
	# Basic Program Operation
	{'name': 'hello world', 'code': "Hello` World`!", 'parameters': [], 'result': "Hello World!"},
	{'name': 'context', 'code': "x; 3,3+", 'parameters': [], 'result': ['x', 6]},
	{'name': 'parameters', 'code': "$1$2+$3", 'parameters': [1, 2, 3], 'result': [3, 3]},
	{'name': 'interpret params', 'code': "1$1+ $2:_+; $3+ $4", 'parameters': ["1", [5, 10], '', False],
	 'result': [17, 0]},
	{'name': 'return list', 'code': "3â³@1Ã˜", 'parameters': [], 'result': [1, 3]},

	# Maths Functions
	{'name': 'simple math', 'code': "3,4,5++~10+,~6-2Ã·2Ã—", 'parameters': [], 'result': 8},
	{'name': 'special math', 'code': "125,4%Â²36âˆšÃ—3Ã·4*", 'parameters': [], 'result': 16},
	{'name': 'comparisons', 'code': "3,3=3,2â‰ + 4,3âŒˆ+ 5,6â‰¤+ 0Â¬1Â¬++ 3,5âˆ§2âˆ¨+", 'parameters': [], 'result': 13},
	{'name': 'max', 'code': "$1$2âŒˆ;$2$1âŒˆ", 'parameters': [29, 31], 'result': [31, 31]},
	{'name': 'gcd', 'code': "84,105â¨¸", 'parameters': [], 'result': 21},

	# Control flow
	{'name': 'parens', 'code': "3(4,5+)Ã— (3,4+)5Ã—", 'parameters': [], 'result': [27, 35]},
	{'name': 'if divisible', 'code': "5â€°3?1,0 6â€°3?2,5+", 'parameters': [], 'result': 2},
	{'name': 'query', 'code': "1?Âµ3)4;0?Âµ3)4", 'parameters': [], 'result': [3, 4]},
	{'name': 'query id', 'code': "1â³:1?_âŠ¢;2â³:0?_âŠ¢;3â³:_â€°2?_âŠ¢", 'parameters': [], 'result': [1, 2]},
	{'name': 'order', 'code': "ÂµÃ°>?ÂµâŠ¢)ÂµÂ«))â†’a945,285$aâ;285,945$aâ", 'parameters': [], 'result': [945, 285, 945, 285]},
	{'name': 'case 1', 'code': "â‚¡1,1â‚¡0,2â‚¡0,3â‚¬4", 'parameters': [], 'result': 1},
	{'name': 'case 2', 'code': "â‚¡0,1â‚¡1,2â‚¡1,3â‚¬4", 'parameters': [], 'result': 2},
	{'name': 'case 3', 'code': "â‚¡0,1â‚¡0,2â‚¡1,3â‚¬4", 'parameters': [], 'result': 3},
	{'name': 'case 4', 'code': "â‚¡0,1â‚¡0,2â‚¡0,3â‚¬4", 'parameters': [], 'result': 4},
	{'name': 'case fn', 'code': "4â‚¡Âµâˆ‚2<)Âµ1)â‚¡Âµâˆ‚4<)Âµ2)â‚¡Âµâˆ‚6<)Âµ3)â‚¬Âµ4)â®â—Œ", 'parameters': [], 'result': 3},

	# Basic Loops and iteration
	{'name': 'loop up', 'code': "3:_", 'parameters': [], 'result': [1, 2, 3]},
	{'name': 'loop down', 'code': "~3:_", 'parameters': [], 'result': [3, 2, 1]},
	{'name': 'count down', 'code': "$1:_;$1~:_", 'parameters': [3], 'result': [1, 2, 3, 3, 2, 1]},
	{'name': 'add loop', 'code': "0,5:_+", 'parameters': [], 'result': 15},
	{'name': 'oddfact', 'code': "1$1:_2Ã—1-Ã—", 'parameters': [5], 'result': 945},
	{'name': 'double loop', 'code': "3:_3:âˆ‚_Ã—Â«;â—Œ", 'parameters': [], 'result': [1, 2, 3, 2, 4, 6, 3, 6, 9]},
	{'name': 'double named', 'code': "5:_â†’a,5:_â†’b,($a$b+)", 'parameters': [],
	 'result': [2, 3, 4, 5, 6, 3, 4, 5, 6, 7, 4, 5, 6, 7, 8, 5, 6, 7, 8, 9, 6, 7, 8, 9, 10]},
	{'name': 'str loop', 'code': "hello:_; $1:_", 'parameters': ["help"],
	 'result': [104, 101, 108, 108, 111, 104, 101, 108, 112]},
	{'name': 'list loop', 'code': "Ã˜3,1,4,1,5,9â:_;3â³:_", 'parameters': [], 'result': [3, 1, 4, 1, 5, 9, 1, 2, 3]},
	{'name': 'slice loop', 'code': "{3,11,2:_", 'parameters': [], 'result': [3, 5, 7, 9]},

	# For Loops
	{'name': 'basic for', 'code': "Î©2,9,3:_2Ã—1+", 'parameters': [], 'result': [5, 11, 17]},
	{'name': 'lambda for', 'code': "Î©Âµ2)Î»9â‰¤)Î»3+):_2Ã—1+", 'parameters': [], 'result': [5, 11, 17]},
	{'name': 'double for', 'code': "Ã˜Î©16,18,1:â—Œ_Î©19,21,1:âˆ‚_Ã—Â«;;â—Œ", 'parameters': [], 'result': [304, 320, 323, 340]},
	{'name': 'gcd', 'code': "945,285Î©1Î»0â‰ )Âµâˆ‚Â®Â«%âˆ‚):;â—Œ", 'parameters': [], 'result': 15},

	# Power Loop / Repeat
	{'name': 'repeat loops', 'code': "5,3â€¦Âµ2Ã—) 5â£Âµ2Ã—)Âµâˆ‚40=)", 'parameters': [], 'result': [40, 40]},

	# Lists, Slices and List Iteration
	{'name': 'list', 'code': "3â³:_", 'parameters': [], 'result': [1, 2, 3]},
	{'name': 'pair', 'code': "1â€¿2â€¿3â€¿4â€¿5:_", 'parameters': [], 'result': [1, 2, 3, 4, 5]},
	{'name': 'pair with list', 'code': "2â€¿(3â³)â€¿(3â³)â€¿2", 'parameters': [], 'result': [2, 1, 2, 3, 1, 2, 3, 2]},
	{'name': 'slice', 'code': "9â³[2Ã˜3:_2Ã—1+", 'parameters': [], 'result': [5, 11, 17]},
	{'name': 'extend list', 'code': "1â³$1âˆ‚+:âˆ‚0â”0Â®â”+;$1âŠ‡", 'parameters': [20], 'result': 137846528820},
	{'name': 'stack list', 'code': "3,4,0Ã˜1,2,3,4â:_+", 'parameters': [], 'result': [3, 4, 10]},
	{'name': 'list length', 'code': "1,2,3,4ââ†“1#", 'parameters': [], 'result': 3},
	{'name': 'list join', 'code': "3â³Ã˜4,5,6ââŠ•", 'parameters': [], 'result': [1, 2, 3, 4, 5, 6]},
	{'name': 'char lists', 'code': "123â¿ bobâ¿ âŠ•", 'parameters': [], 'result': [1, 2, 3, 98, 111, 98]},
	{'name': 'roll list', 'code': "3â³â†¦ 3â³â†¤âŠ•", 'parameters': [], 'result': [0, 1, 2, 2, 3, 0]},
	{'name': 'include exclude', 'code': "5â³Ã˜4,2,4ââŸˆ Ã˜4,2,4â5â³âˆ© âŠ•", 'parameters': [], 'result': [1, 3, 5, 2, 4]},
	{'name': 'take drop', 'code': "5â³ â†‘4 â†“2", 'parameters': [], 'result': [3, 4]},
	{'name': 'copies', 'code': "5,3â§‰ hi2â§‰ âŠ•", 'parameters': [], 'result': [5, 5, 5, 'hi', 'hi']},
	{'name': 'first next', 'code': "Ã˜3,1,4,1,5,9ââª¼âª¼âª¼âˆ‚â—‡Â«â‡¤âˆ‚â—‡Â«âª¼âˆ‚â—‡Â«â—Œ", 'parameters': [], 'result': [1, 3, 1]},
	{'name': 'next', 'code': "$1â³âˆ‚â†’s@1Ã˜âª¼âˆ‚â®â—‡âª¼âˆ‚â®â—‡âª¼âˆ‚â®â—‡âª¼âˆ‚â®â—‡âª¼â—‡", 'parameters': [10], 'result': [3, 4, 5, 6, 7]},
	{'name': 'set slice', 'code': "Ã˜3,1,4,1,5,9â@{2,4Ã˜9", 'parameters': [], 'result': [3, 9, 9, 9, 5, 9]},
	{'name': 'slice', 'code': "Ã˜3,1,4,1,5,9â[2Ã˜2", 'parameters': [], 'result': [1, 1, 9]},
	{'name': 'at location', 'code': "Ã˜3,1,4,1,5,9ââˆ‚2âŠ‡Â«5âŠ‡", 'parameters': [], 'result': [4, 9]},
	{'name': 'set', 'code': "Ã˜3,1,4,1,5,9â@2,1@{4,6Ã˜1", 'parameters': [], 'result': [3, 1, 1, 1, 1, 1]},
	{'name': 'set list', 'code': "$1âˆšâ†’a$1â³âˆ‚â†’s@0Ã˜$aÂ«:_", 'parameters': [10], 'result': [3, 2, 3, 4, 5, 6, 7, 8, 9, 10]},
	{'name': 'iterate set list', 'code': "$1âˆšâ†’a$1â³âˆ‚â†’s@0Ã˜â—ŒÎ©2Î»$aâ‰¤)Âµ$sâª¼â—‡):_", 'parameters': [10], 'result': [2, 3]},
	{'name': 'outer product', 'code': "Ã˜1,2,3âÃ˜3,4,5ââŠšÃ—â–­", 'parameters': [], 'result': [3, 4, 5, 6, 8, 10, 9, 12, 15]},
	{'name': 'list binary 1', 'code': "Ã˜1,2,3,4âÃ˜4,1,7,~8ââŒˆ", 'parameters': [], 'result': [4, 2, 7, 4]},
	{'name': 'list binary 2', 'code': "Ã˜1,2,3,4âÃ˜4,1,7,~8âÂµâŒˆ)â", 'parameters': [], 'result': [4, 2, 7, 4]},
	{'name': 'list binary 3', 'code': "Ã˜1,2,3,4âÃ˜4,1,7,~8âÂµÃ—)â", 'parameters': [], 'result': [4, 2, 21, -32]},
	{'name': 'list binary 4', 'code': "Ã˜1,2,3,4âÃ˜4,1,7,~8âÂµÂ²-)â", 'parameters': [], 'result': [-15, 1, -46, -60]},
	{'name': 'implicit binary', 'code': "3â³âˆ‚â…Â¨!Ã—; 3â³âˆ‚â…Â¨!Â«ÂµÂ²-)â+", 'parameters': [], 'result': [11, 2, -5]},
	{'name': 'implicit map 1', 'code': "Ã˜1,2,3,4âÂ²", 'parameters': [], 'result': [1, 4, 9, 16]},
	{'name': 'implicit map 2', 'code': "Ã˜1,2,3,4â!", 'parameters': [], 'result': [1, 2, 6, 24]},
	{'name': 'implicit map 3', 'code': "Ã˜1,2,3,4âÂµ!)â", 'parameters': [], 'result': [1, 2, 6, 24]},
	{'name': 'implicit map 4', 'code': "3,4Ã˜1,2,3,4â!:_", 'parameters': [], 'result': [3, 4, 1, 2, 6, 24]},
	{'name': 'list set ops', 'code': "1â€¿2â€¿3,2â€¿3â€¿4âˆ©1â€¿2â€¿3,2â€¿3â€¿4âˆªâŠ•3â€¿3â€¿2â€¿2â€¿3â€¿1á¹µâŠ•", 'parameters': [],
	 'result': [2, 3, 1, 2, 3, 4, 1, 2, 3]},
	{'name': 'sort', 'code': "5â€¿2â€¿3â€¿1â€¿4â€¿0â†—âˆ‚â†˜âŠ•", 'parameters': [], 'result': [0, 1, 2, 3, 4, 5, 5, 4, 3, 2, 1, 0]},
	{'name': 'grade', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿1âˆ‚â‹Â«â’âŠ•", 'parameters': [], 'result': [4, 5, 2, 1, 0, 3, 3, 0, 1, 2, 5, 4]},
	{'name': 'select bool', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿1,0â€¿0â€¿1â€¿1â€¿0â€¿1âŠƒ:_;Hello0â€¿0â€¿1â€¿1â€¿0âŠƒ", 'parameters': [],
	 'result': [2, 6, 1, 'll']},
	{'name': 'select index', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿1âˆ‚3âŠ‡Â«2â€¿3âŠ‡HelloprÂ«âŠ‡", 'parameters': [], 'result': [6, 'lr']},
	{'name': 'dictionary select', 'code': "Î”a@1,2@2,3@3,4@4,5,2â€¿3â€¿4âŠ‡", 'parameters': [], 'result': [3, 4, 5]},
	{'name': 'group', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿1,0â€¿1â€¿0â€¿1â€¿0â€¿2âŠ†", 'parameters': [], 'result': [[5, 2, 0], [3, 6], [1]]},
	{'name': 'group str', 'code': "splunk0â€¿1â€¿0â€¿1â€¿0â€¿2âŠ†", 'parameters': [], 'result': ['sln', 'pu', 'k']},
	{'name': 'member', 'code': "3,5â€¿3â€¿2â€¿6â€¿0â€¿1âˆˆ9,5â€¿3â€¿2â€¿6â€¿0â€¿1âˆˆ5â€¿7â€¿3â€¿2,5â€¿3â€¿2â€¿6â€¿0â€¿1âˆˆ:_", 'parameters': [],
	 'result': [1, 0, 1, 0, 1, 1]},
	{'name': 'member str', 'code': "vera,severalityâˆˆ, very,severalityâˆˆ", 'parameters': [], 'result': [1, 0]},
	{'name': 'find all', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿1â†’a $a6â‹¸ $a9â‹¸ $a2â€¿1â€¿7â‹¸:_; hello,elxâ‹¸:_", 'parameters': [],
	 'result': [3, 2, 5, 1, 2, 3]},
	{'name': 'find all?', 'code': "5â€¿3â€¿2â€¿6â†’a $a6âˆŠ:_; $a9âˆŠ:_; $a2â€¿1â€¿7âˆŠ:_; hello,elxâˆŠ:_;", 'parameters': [],
	 'result': [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0]},
	{'name': 'index conversion', 'code': "2â€¿6â€¿3,8â‹¥:_; 0â€¿0â€¿1â€¿1â€¿1âŠ’:_É¨; 0â€¿0â€¿1â€¿1â€¿1âŠÉ¨", 'parameters': [],
	 'result': [0, 0, 1, 1, 0, 0, 1, 0, 2, 3, 4, 2]},
	{'name': 'window', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿2â€¿6â€¿3â§ˆ3+", 'parameters': [],
	 'result': [10, 11, 8, 8, 8, 11]},
	{'name': 'window 2', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â”7â€¿8â€¿9â”â§ˆ2+", 'parameters': [],
	 'result': [[12, 16], [24, 28]]},
	{'name': 'window 3', 'code': "1,2,3,2,3,4,3,4,5âŒ¸3,3â´â§ˆ3+9Ã·", 'parameters': [],
	 'result': 3.},
	{'name': 'stencil', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿2â€¿6â€¿3âŒº3+", 'parameters': [],
	 'result': [8, 10, 11, 8, 8, 8, 11, 9]},
	{'name': 'stencil 2', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â”7â€¿8â€¿9â”âŒº2+", 'parameters': [],
	 'result': [[12, 16, 9], [24, 28, 15], [15, 17, 9]]},
	{'name': 'stencil 3', 'code': "1,2,3,2,3,4,3,4,5âŒ¸3,3â´âŒº3+", 'parameters': [],
	 'result': [[8, 15, 12], [15, 27, 21], [12, 21, 16]]},
	{'name': 'array size', 'code': "1â€¿2â€¿3â€¿4,4â€¿5â€¿6â€¿7â”7â€¿8â€¿9â€¿10â”#", 'parameters': [], 'result': 3},
	{'name': 'array flatten', 'code': "1â€¿2â€¿3â€¿4,4â€¿5â€¿6â€¿7â”7â€¿8â€¿9â€¿10â”â–­", 'parameters': [],
	 'result': [1, 2, 3, 4, 4, 5, 6, 7, 7, 8, 9, 10]},
	{'name': 'array join', 'code': "1â€¿2,3â€¿4â”7â€¿8,9â€¿10â”âŠ•â–­", 'parameters': [], 'result': [1, 2, 7, 8, 3, 4, 9, 10]},
	{'name': 'array set', 'code': "1â€¿2,3â€¿4â”7â€¿8â”9â€¿10â”â“(0â€¿0,1â€¿0â”0â€¿1â”1â€¿1â”)9â–­", 'parameters': [],
	 'result': [1, 2, 9, 4, 7, 9, 9, 9]},
	{'name': 'array set fns', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â”â–­â†’a 2â€¿4â€¿7â†’b $a$bâˆª $a$bâˆ© âŠ• $a$bâŸˆ âŠ•", 'parameters': [],
	 'result': [1, 2, 3, 4, 5, 6, 7, 2, 4, 1, 3, 5, 6]},
	{'name': 'array bool select', 'code': "1â€¿2,3â€¿4â”âˆ‚ 8| âŠƒ", 'parameters': [], 'result': [1, 2, 4]},
	{'name': 'array return value', 'code': "1â€¿2,3â€¿4â”", 'parameters': [], 'result': [[1, 2], [3, 4]]},
	{'name': 'array implicit map', 'code': "1â€¿2,3â€¿4â” 2+", 'parameters': [], 'result': [[3, 4], [5, 6]]},
	{'name': 'array implicit binary', 'code': "1â€¿2,3â€¿4â” 1â€¿2,3â€¿4â”+", 'parameters': [], 'result': [[2, 4], [6, 8]]},
	{'name': 'array return value', 'code': "1â€¿2,3â€¿4â”", 'parameters': [], 'result': [[1, 2], [3, 4]]},
	{'name': 'array size 2', 'code': "1â€¿2,3â€¿4â”#", 'parameters': [], 'result': 2},
	{'name': 'array set 2', 'code': "1â€¿2,3â€¿4â” âŒ˜1,1,0", 'parameters': [], 'result': [[1, 2], [3, 0]]},
	{'name': 'array row col', 'code': "1â€¿2,3â€¿4â”âˆ‚ 1ğ–—Â« 0ğ–ˆ +", 'parameters': [], 'result': [4, 7]},
	{'name': 'array shape', 'code': "1â€¿2â€¿3,3â€¿4â€¿5â€¿6â”â‡‘2,4â´", 'parameters': [], 'result': [[1, 2, 3, 3], [4, 5, 6, 0]]},
	{'name': 'array transpose', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â”â¦°", 'parameters': [], 'result': [[1, 4], [2, 5], [3, 6]]},
	{'name': 'array reflect', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â” â…", 'parameters': [], 'result': [[3, 2, 1], [6, 5, 4]]},
	{'name': 'array flip', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â” â›", 'parameters': [], 'result': [[4, 5, 6], [1, 2, 3]]},

	# Additional list functions
	{'name': 'partition str', 'code': "hello1â€¿0â€¿1â€¿1â€¿0âŠ‚", 'parameters': [],
	 'result': ["h", "ll"]},
	{'name': 'partition list', 'code': "5â€¿8â€¿2â€¿1â€¿0â€¿2â€¿6â€¿3,5â€¿8â€¿2â€¿1â€¿0â€¿2â€¿6â€¿3,3%âŠ‚", 'parameters': [],
	 'result': [[5, 8, 2, 1], [2]]},
	{'name': 'partition harder', 'code': "5â€¿3â€¿2,6â€¿0â€¿2â”6â€¿3â€¿1â”,1â€¿1â€¿1â€¿2â€¿1â€¿0â€¿2â€¿2â€¿3âŠ‚", 'parameters': [],
	 'result': [[5, 3, 2], [6, 0], [6, 3], [1]]},
	{'name': 'classify', 'code': "5â€¿3â€¿2â€¿6â€¿0â€¿2â€¿6â€¿3âˆ‚á¹µÂ«âŠ", 'parameters': [],
	 'result': [[0, 2, 3, 5, 6], [[4], [2, 5], [1, 7], [0], [3, 6]]]},

	# Inner and outer products
	{'name': 'list inner product', 'code': "1â€¿2â€¿3,3â€¿4â€¿5â€¢+Ã—", 'parameters': [], 'result': 26},
	{'name': 'list inner different', 'code': "1â€¿2â€¿3,5â€¿4â€¿2â€¢âŒˆâŒŠ", 'parameters': [], 'result': 2},
	{'name': 'lol inner product', 'code': "2â€¿3,2â€¿3â”2â€¿3â”,1â€¿2â€¿1,2â€¿1â€¿2â”â€¢+Ã—", 'parameters': [],
	 'result': [[8, 7, 8], [8, 7, 8], [8, 7, 8]]},
	{'name': 'matrix inner product', 'code': "1,2,3,4,5,6âŒ¸2,3â´â†’aÃ˜4,3,2âŒ¸3,1â´â†’b $a$bâ€¢+Ã— $a$bâŠ  â‰¡", 'parameters': [],
	 'result': 1},
	{'name': 'list outer product', 'code': "1â€¿2â€¿3,3â€¿4â€¿5âŠšÃ—â–­", 'parameters': [],
	 'result': [3, 4, 5, 6, 8, 10, 9, 12, 15]},
	{'name': 'lol outer product', 'code': "1â€¿2,1â€¿2â”â–­ 1â€¿2 âŠšÃ—â–­", 'parameters': [], 'result': [1, 2, 2, 4, 1, 2, 2, 4]},
	{'name': 'matrix outer product', 'code': "2,2,2ğ•„2ğš°+2ğš°â…âŠš-", 'parameters': [],
	 'result': [[3, 2, 2, 3], [2, 1, 1, 2], [2, 1, 1, 2], [3, 2, 2, 3]]},

	# Higher Level List Functions
	{'name': 'map', 'code': "3,4Ã˜1,2,3,4âÂ¨!:_", 'parameters': [], 'result': [3, 4, 1, 2, 6, 24]},
	{'name': 'map mu', 'code': "3,4Ã˜1,2,3,4âÂ¨Âµâ©”!):_", 'parameters': [], 'result': [3, 4, 1, 1, 2, 6]},
	{'name': 'map b-comb', 'code': "1,2,3,4âÂ¨âˆ˜â©”!", 'parameters': [], 'result': [1, 1, 2, 6]},
	{'name': 'map w-comb', 'code': "1,2,3,4âÂ¨ğ’²+", 'parameters': [], 'result': [2, 4, 6, 8]},
	{'name': 'map bind', 'code': "1,2,3,4âÂ¨âŸœ2Ã—", 'parameters': [], 'result': [2, 4, 6, 8]},
	{'name': 'filter', 'code': "1,2,3,4â}â€°2", 'parameters': [], 'result': [2, 4]},
	{'name': 'reduce', 'code': "3,4Ã˜1,2,3,4â/+", 'parameters': [], 'result': [3, 4, 10]},
	{'name': 'reduce mu', 'code': "3,4Ã˜1,2,3,4â/ÂµÃ—)", 'parameters': [], 'result': [3, 4, 24]},
	{'name': 'reduce comb', 'code': "3,4Ã˜1,2,3,4â/ğš¿+â©”", 'parameters': [], 'result': [3, 4, 4]},
	{'name': 'filter reduce', 'code': "10â³}â€°3âˆ‚/ÂµÂ²+)Â«#Ã·", 'parameters': [], 'result': 40},
	{'name': 'reduce 2', 'code': "1,2,3,4â/ÂµÂ²+)", 'parameters': [], 'result': 30},
	{'name': 'foldr', 'code': "1,2,3,4ââ¥†ÂµÂ²+)", 'parameters': [], 'result': 131770},
	{'name': 'scan', 'code': "1,2,3,4ââˆ–+", 'parameters': [], 'result': [1, 3, 6, 10]},
	{'name': 'scanr', 'code': "1,2,3,4ââ¥¶+", 'parameters': [], 'result': [10, 9, 7, 4]},

	# Matrices
	{'name': 'matrix input', 'code': "âŠ3ğš°-", 'parameters': [[[1, 2, 3], [4, 5, 6], [7, 8, 9]]],
	 'result': [[0, 2, 3], [4, 4, 6], [7, 8, 8]]},
	{'name': 'list - matrix', 'code': "Ã˜3,1,4,1,5,9,2,6,5ââŠ¡3,3â´Ã˜1,2,3,4,5,6,7,8,9âŒ¸3,3â´âŠ â–­", 'parameters': [],
	 'result': [35, 43, 51, 84, 99, 114, 61, 74, 87]},
	{'name': 'matrix reflect', 'code': "3ğš°3ğš°â…+1+", 'parameters': [], 'result': [[2, 1, 2], [1, 3, 1], [2, 1, 2]]},
	{'name': 'matrix transpose', 'code': "Ã˜3,1,4,1,5,9,2,6,5âŒ¸3,3â´Ã˜1,2,3,4,5,6âŒ¸2,3â´â…â¦°âŠ ", 'parameters': [],
	 'result': [[15, 39], [22, 67], [23, 62]]},
	{'name': 'matrix implicit', 'code': "Ã˜3,1,4,1,5,9,2,6,5âŒ¸3,3â´â†’s $s4Ã— $s+ 3ğš°Ã—", 'parameters': [],
	 'result': [[15, 0, 0], [0, 25, 0], [0, 0, 25]]},
	{'name': 'matrix implicit 2', 'code': "Ã˜3,1,4,1,5,9,2,6,5âŒ¸3,3â´â†’s $sÂµ4Ã—)â $sÂµ+)â 3ğš°ÂµÃ—)â", 'parameters': [],
	 'result': [[15, 0, 0], [0, 25, 0], [0, 0, 25]]},
	{'name': 'matrix set', 'code': "3ğš°âŒ˜1,2,8", 'parameters': [], 'result': [[1, 0, 0], [0, 1, 8], [0, 0, 1]]},
	{'name': 'matrix roll', 'code': "Ã˜1,2,3,4,5,6,7,8,9âŒ¸3,3â´â†§â–­", 'parameters': [3],
	 'result': [0, 0, 0, 1, 2, 3, 4, 5, 6]},
	{'name': 'matrix shifts', 'code': "3ğš°â†¦3ğš°â†¤+ 3ğš°â†¥3ğš°â†§- Ã—", 'parameters': [],
	 'result': [[0, 1, 0], [-1, 0, 1], [0, -1, 0]]},
	{'name': 'matrix rotate', 'code': "1â€¿2â€¿3,4â€¿5â€¿6â”7â€¿8â€¿9â”â†’s $s1â€$s~1â€+ $s1â¦µ$s~1â¦µ- Ã—", 'parameters': [],
	 'result': [[15, 12, 9], [-66, -60, -54], [51, 48, 45]]},
	{'name': 'matrix inverse', 'code': "1,2,0,0,2,1,1,0,1âŒ¸3,3â´âŒ¹4Ã—", 'parameters': [],
	 'result': [[2, -2, 2], [1, 1, -1], [-2, 2, 2]]},
	{'name': 'matrix inverse 2', 'code': "1,2,0,0,2,1,1,0,1âŒ¸3,3â´âˆ‚âŒ¹âŠ ", 'parameters': [],
	 'result': [[1, 0, 0], [0, 1, 0], [0, 0, 1]]},
	{'name': 'matrix determinant', 'code': "1,2,0,0,2,1,1,0,1âŒ¸3,3â´âˆ‚âŒ¹Â«ğš²Ã—", 'parameters': [],
	 'result': [[2, -2, 2], [1, 1, -1], [-2, 2, 2]]},
	{'name': 'matrix equivalent', 'code': "3ğš°3Ã—3ğš°5Ã—â†¦+âˆ‚ Ã˜3,5,0,0,3,5,0,0,3âŒ¸3,3â´â‰¡ Â«3ğš°â‰¡ 3ğš°3ğš°9,1â´â‰¡", 'parameters': [],
	 'result': [1, 0, 0]},
	{'name': 'eigen matrix', 'code': "1,2,0,0,2,1,0,2,0âŒ¸3,3â´â„°âŠœ6,3â´100Ã—â–­", 'parameters': [],
	 'result': [100.0, 0.0, 0.0, 0.0, 273.21, 0.0, 0.0, 0.0, -73.21, 100.0, 68.17, 36.89, 0.0, 59.04, -31.95, 0.0,
	            43.22, 87.28]},
	{'name': 'matrix outer product 2', 'code': "1,2,3âŒ¸Ã˜2,4,3âŒ¸âŠš+", 'parameters': [],
	 'result': [[3, 5, 4], [4, 6, 5], [5, 7, 6]]},
	{'name': 'matrix outer product 3', 'code': "1,2,3,4âŒ¸2,2â´Ã˜5,7âŒ¸âŠš+", 'parameters': [],
	 'result': [[6, 8], [7, 9], [8, 10], [9, 11]]},
	{'name': 'to matrix', 'code': "Ã˜1,2,3,4,5,6ââŠ¡Ã˜3,4,5,6,7,8,9ââŠ¡+âŠŸ:_", 'parameters': [],
	 'result': [4, 6, 8, 10, 12, 14]},
	{'name': 'reshape', 'code': "Ã˜1,2,3,4,5,6âŒ¸3,2â´âˆ‚+â–­", 'parameters': [], 'result': [2, 4, 6, 8, 10, 12]},
	{'name': 'matrix solve', 'code': "Ã˜3,5,~7,1,0,3,1,~1,~1âŒ¸3,3â´â†’aÃ˜2,4,~3âŒ¸â¦°â†’x$aâŒ¹$xâŠ 16Ã—", 'parameters': [],
	 'result': [4, 32, 20]},
	{'name': 'eigenvalues', 'code': "Ã˜3,5,~7,1,0,3,1,~1,~1âŒ¸3,3â´â„°â—Œ100Ã—â–­}Î»0â‰ )", 'parameters': [],
	 'result': [387.8, -93.9, -93.9]},
	{'name': 'x-matrix', 'code': "$1âˆ‚0â‰ Â«#ğš°âˆ‚â…âˆ¨â‰¡",
	 'parameters': [[[2, 0, 0, 6], [0, 3, -1, 0], [0, -2, 7, 0], [1, 0, 0, 2]]], 'result': 1},
	{'name': 'x-matrix f', 'code': "$1âˆ‚0â‰ Â«#ğš°âˆ‚â…âˆ¨â‰¡", 'parameters': [[[2, 0, 6], [3, 0, 0], [1, 0, 2]]],
	 'result': 0},
	{'name': 'x-matrix comb', 'code': "$1ğš½â‰¡Âµ0â‰ )Âµ#ğš°ğ’®âˆ¨â…)",
	 'parameters': [[[2, 0, 0, 6], [0, 3, -1, 0], [0, -2, 7, 0], [1, 0, 0, 2]]], 'result': 1},
	{'name': 'matrix binary', 'code': "3ğš°3ğš°â…âˆ¨", 'parameters': [], 'result': [[1, 0, 1], [0, 1, 0], [1, 0, 1]]},
	{'name': 'matrix binary 2', 'code': "3ğš°3ğš°â…Âµâˆ¨)â", 'parameters': [], 'result': [[1, 0, 1], [0, 1, 0], [1, 0, 1]]},
	{'name': 'matrix binary 3', 'code': "2ğš°2ğš°â…âŠšÂµâˆ¨)", 'parameters': [],
	 'result': [[1, 1, 1, 1], [0, 1, 1, 0], [0, 1, 1, 0], [1, 1, 1, 1]]},
	{'name': 'matrix binary 4', 'code': "3ğš°3ğš°â…âŠ™Âµâˆ¨)", 'parameters': [], 'result': [[1, 0, 1], [0, 1, 0], [1, 0, 1]]},
	{'name': 'matrix map', 'code': "3ğš°Â¨Âµ1+)", 'parameters': [], 'result': [[2, 1, 1], [1, 2, 1], [1, 1, 2]]},
	{'name': 'matrix select', 'code': "3ğš°âˆ‚2ğ–—Â«0ğ–ˆ-", 'parameters': [], 'result': [-1, 0, 1]},
	{'name': 'matrix reduction', 'code': "Ã˜1,2,3,4,5,6âŒ¸2,3â´âˆ‚â®/+âŒ¿Ã—âŠš-", 'parameters': [],
	 'result': [[2, -4, -12], [11, 5, -3]]},
	{'name': 'matrix map vector', 'code': "Ã˜1,2,3,4,5,6âŒ¸2,3â´âˆ‚â‹¯Âµ/+)Â«â‹®Âµ/+)", 'parameters': [],
	 'result': [[6, 15], [5, 7, 9]]},

	# Stack manipulation
	{'name': 'duplicate', 'code': "1,2,3â¨©-Ã°Ã—+âˆ‚Ã—--", 'parameters': [], 'result': 8},
	{'name': 'drop', 'code': "3:_;â—Œâ—Œ3,4â—Œ5,6â—Œ7", 'parameters': [], 'result': [1, 3, 5, 7]},
	{'name': 'swap', 'code': "âŠ¢1Â«2Â«âŠ¢-", 'parameters': [], 'result': 1},
	{'name': 'stack manipulation', 'code': "1,2,3â¨©+Â®+Ã°+Â®âˆ‚+Ã·-", 'parameters': [], 'result': 4},
	{'name': 'lcm', 'code': "945,285,15,Â®Â®Ã—Â«Ã·", 'parameters': [], 'result': 17955},

	# Strings
	{'name': 'palindrome', 'code': "$1'âˆ‚â…=;$2'âˆ‚â…=", 'parameters': [906609, 90608], 'result': [True, False]},
	{'name': 'count', 'code': "`1`2`3â…â„¤1-", 'parameters': [], 'result': 320},
	{'name': 'join', 'code': "`1`2,`3âŠ•â…â„¤1-", 'parameters': [], 'result': 320},
	{'name': 'join strings', 'code': "abcâ€¿defâ€¿ghiâ†’xâ—Œ $x/âŠ• $x,`@âˆª $x'", 'parameters': [],
	 'result': ["abcdefghi", "abc@def@ghi", "abcdefghi"]},

	# Dictionary
	{'name': 'dictionary', 'code': "Î”a@3,5@4,9,3âŠ‡$a4âŠ‡$a5âŠ‡", 'parameters': [], 'result': [5, 9]},

	# Binary
	{'name': 'binary', 'code': "13,4âŸ˜ Â¬âŠ¤ `0`1`0`1âŠ¤ Ã—", 'parameters': [], 'result': 10},

	# Namespaces
	{'name': 'assign', 'code': "6â†’s12$sÃ·", 'parameters': [], 'result': 2},
	{'name': 'assign local', 'code': "3â†’s Âµ5â†’s2$sÃ—)â 3$sÃ—", 'parameters': [], 'result': [10, 9]},
	{'name': 'assign late', 'code': "(1,2+)â†’s2$s$s+-", 'parameters': [], 'result': -4},
	{'name': 'assign long', 'code': "Âµ10,6-)â†’birthday $birthdayâ", 'parameters': [], 'result': 4},
	{'name': 'local pin', 'code': "1,2,3,4â‡¶2 + â‡´2â‡´1-Ã— â‡¶2 â‘´", 'parameters': [], 'result': 3},

	# Lookups
	{'name': 'num refs', 'code': "Ã˜2â:Ã˜8â:Ã˜1â:Ã˜8â:Ã˜9â:_â“ªâ‘ â‘¡â‘¢â‘£â‘¤;â‹ââŒâŠâ", 'parameters': [3, 1, 4, 1, 5],
	 'result': [9, 9, 8, 1, 8, 2, 1, 1, 4, 3, 5]},
	{'name': 'lookup run', 'code': "Âµ3Ã—)â†’x 2Â£x 4Â£1", 'parameters': [lambda e: e.pop() * 5], 'result': [6, 20]},

	# Blocks
	{'name': 'block', 'code': "3(4,5+)â³:_+", 'parameters': [], 'result': 48},
	{'name': 'mu', 'code': "Âµ3)â†’s$sâ$sâ+", 'parameters': [], 'result': 6},
	{'name': 'lambda', 'code': "03:Î»Â²)â+", 'parameters': [], 'result': 14},
	{'name': 'kappa', 'code': "Îº2Ã—1+,1Â«)â†’a3$aâ4$aâ5$aâ3$aâ5$aâ", 'parameters': [],
	 'result': [1, 7, 1, 9, 1, 11, 7, 11]},

	# Higher Level Functions
	{'name': 'defer', 'code': "â©£+1,2Â®â", 'parameters': [], 'result': 3},
	{'name': 'bind', 'code': '4âŠ¸3- 4âŸœ3-', 'parameters': [], 'result': [-1, 1]},
	{'name': 'bind in map 1', 'code': '3â³Â¨Âµ2=)', 'parameters': [], 'result': [0, 1, 0]},
	{'name': 'bind in map 2', 'code': '3â³Â¨âŠ¸2=', 'parameters': [], 'result': [0, 1, 0]},
	{'name': 'bind in map 3', 'code': 'â©£âŠ¸2=â†’s 3â³Â¨$s', 'parameters': [], 'result': [0, 1, 0]},
	{'name': 'dip', 'code': '3,4â®Â²', 'parameters': [], 'result': [9, 4]},
	{'name': 'dip stack', 'code': '3,4â®âˆ‚ â®Âµ3+) Â« â®Â« â®â—Œ', 'parameters': [], 'result': [4, 6]},
	{'name': 'repeat', 'code': "3,4,5,6,3â€¦+ 2,4â€¦Â² 1,3â€¦Âµ3Ã—1+)", 'parameters': [], 'result': [18, 65536, 40]},

	# Combinators
	{'name': 'comb i', 'code': '3,4â„+ 3,4â„Âµ+) â©£+â†’a 3,4â„$a Âµ+)â†’b 3,4â„$b', 'parameters': [], 'result': [7, 7, 7, 7]},
	{'name': 'comb k', 'code': '7ğ’¦1', 'parameters': [], 'result': 1},
	{'name': 'comb w', 'code': '3ğ’²+ 3ğ’²Âµ+) â©£+â†’a 3ğ’²$a', 'parameters': [], 'result': [6, 6, 6]},
	{'name': 'comb c', 'code': '3,4ğ’- 3,4ğ’Âµ-) â©£-â†’a 3,4ğ’$a', 'parameters': [], 'result': [1, 1, 1]},
	{'name': 'comb wi', 'code': '3ğ’²â„+', 'parameters': [], 'result': 6},
	{'name': 'comb b', 'code': '3,4âˆ˜Â²+ â©£âˆ˜Â²+â†’a 3,4$aâ', 'parameters': [], 'result': [19, 19]},
	{'name': 'comb s s-prime', 'code': 'â©£ğ’®-ÂµÂ²)â†’a â©£ğ”°-ÂµÂ²)â†’b 3$aâ 3$bâ', 'parameters': [], 'result': [-6, 6]},
	{'name': 'comb psi', 'code': '4,3ğš¿-Â² â©£-â†’a â©£Â²â†’b 4,3ğš¿$a$b 4,3ğš¿+âŠ¢', 'parameters': [], 'result': [7, 7, 7]},
	{'name': 'comb d', 'code': '3,4ğ’Ÿ+Â²âˆš 3,4ğ’Ÿ+Â²âŠ¢ 3,4ğ’Ÿ+âŠ¢Â²', 'parameters': [], 'result': [11, 13, 19]},
	{'name': 'comb phi phi-prime', 'code': '4ğš½+Â²âˆš 4ğš½-ğ’²Ã—ğ”°-Â² 4,3ğ›—Ã—+-', 'parameters': [], 'result': [18, 4, 7]},
	{'name': 'combinator defer', 'code': 'â©£ğ’²Ã—3Â«â', 'parameters': [], 'result': 9},
	{'name': 'combinators', 'code': 'â©£+â†’a ÂµÃ—1-)â†’b â©£Â²â†’x Âµ3Ã—1+)â†’y 3,4ğ›—Ã—$a$b 3âˆ˜$x$y 3ğš½+ğ’²$bğ”°Ã—$x', 'parameters': [],
	 'result': [77, 28, 35]},
	{'name': 'comb lambda', 'code': '3ğ’²+ 3ğ’²Âµ+) â©£+â†’a 3ğ’²$a', 'parameters': [], 'result': [6, 6, 6]},

	# Complex Example Programs
	{'name': 'FizzBuzz long', 'code': "$1:_â€°3?FizzÃ˜_â€°5?BuzzÃ˜âŠ•_âˆ¨", 'parameters': [10],
	 'result': [1, 2, 'Fizz', 4, 'Buzz', 'Fizz', 7, 8, 'Fizz', 'Buzz']},
	{'name': 'FizzBuzz short', 'code': "$1:Fizzâ€¿Buzz3â€¿5_|âŠƒ'_âˆ¨", 'parameters': [10],
	 'result': [1, 2, 'Fizz', 4, 'Buzz', 'Fizz', 7, 8, 'Fizz', 'Buzz']},
	{'name': 'Eratosthenes Fast', 'code': "âŠâ³@0Ã˜Î©2Î»âŠâˆšâ‰¤)Âµâˆ‚âª¼â—‡):@{(_Â²)Ã˜_Ã˜", 'parameters': [30],
	 'result': [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]},
	{'name': 'Eratosthenes Short', 'code': "Î©ÂµâŠâ³â†“1)Î»#)Î»}Î»â—‡â€±Â¬)):_â—‡;", 'parameters': [30],
	 'result': [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]},
	{'name': 'Iverson Primes', 'code': "$1â³â†“1ğ’®âŸˆğ’²âŠšÃ—", 'parameters': [30],
	 'result': [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]},
	{'name': 'Wilson Primes', 'code': "$1â³âˆ‚âˆ‚â©”!~Â«%1=âŠƒ", 'parameters': [30],
	 'result': [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]},
	{'name': 'Wilson Primes Comb', 'code': "$1â³â†“1 ğ’®âŠƒğ”°â€±âˆ˜â©”âˆ˜!â©“", 'parameters': [30],
	 'result': [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]},
	{'name': 'pascal matrix', 'code': "$1$1,0ğ•„âŒ˜0,0,1âˆ‚$1,2Ã—Âµâˆ‚1=?â—ŒÂµÂ«âˆ‚â†§Â«â†¦+âˆ‚Â®1-$sâ+))â†’s$sâ +â–­:â—Œ_", 'parameters': [21],
	 'result': 137846528820},
	{'name': 'combuzz', 'code': "á¸Ÿ:_ğ”°âˆ¨ğš½âŠ•Âµâ€°3?FizzÃ˜)Âµâ€°5?BuzzÃ˜)", 'parameters': [],
	 'result': [1, 2, 'Fizz', 4, 'Buzz', 'Fizz', 7, 8, 'Fizz', 'Buzz', 11, 'Fizz', 13, 14, 'FizzBuzz']},
	{'name': 'triangle divisors', 'code': "0Î©1Âµ$1<)1:_+â†’a$aâ³}Âµ$aÂ«â€±)#$aÂ«", 'parameters': [12], 'result': 120},

	{'name': 'loadtest', 'code': "1â¨‹2â¨‹3â¨‹âˆ«â„¤âˆ«â„¤âˆ«â„¤", 'parameters': [], 'result': [1, 2, 3]},
	{'name': 'loadlist', 'code': "~3â³:_â¨‹;7â¨‹9â¨‹;âˆ®", 'parameters': [], 'result': [3, 2, 1, 7, 9]},
	{'name': 'loadarray', 'code': "`1` `2` `3â¨‹`4` `5` `6â¨‹`7` `8` `9â¨‹â¨–", 'parameters': [],
	 'result': [[1, 2, 3], [4, 5, 6], [7, 8, 9]]},
]

if __name__ == "__main__":
	debug_single_test = None
	if debug_single_test is not None and debug_single_test in [t['name'] for t in tests]:
		interactive_from_test_suite(tests, debug_single_test)
	else:
		test(tests, verbose=True, path=__file__)
